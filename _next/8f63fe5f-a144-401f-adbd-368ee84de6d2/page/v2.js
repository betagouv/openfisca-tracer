module.exports=__NEXT_REGISTER_PAGE("/v2",function(){return{page:webpackJsonp([3],{271:function(e,t,n){e.exports=n(272)},272:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),a=n.n(r),u=n(1),o=n.n(u),c=n(74),s=n(75),i=n.n(s),l=(n(76),n(273));n.n(l);function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){p(e,t,n[t])})}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,u=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,u=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw u}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function d(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var u=e.apply(t,n);function o(e,t){try{var n=u[e](t),o=n.value}catch(e){return void a(e)}n.done?r(o):Promise.resolve(o).then(c,s)}function c(e){o("next",e)}function s(e){o("throw",e)}c()})}}var h="http://localhost:2000";function y(e){return b.apply(this,arguments)}function b(){return(b=d(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i()("".concat(h,"/").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function m(e,t){return O.apply(this,arguments)}function O(){return(O=d(a.a.mark(function e(t,n){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i()("".concat(h,"/").concat(t),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}t.default=function(){var e=v(Object(u.useState)(),2),t=e[0],n=e[1],r=v(Object(u.useState)(),2),s=(r[0],r[1]),i=v(Object(u.useState)([]),2),p=i[0],h=i[1],b=v(Object(u.useState)(),2),O=b[0],w=b[1],x=v(Object(u.useState)(),2),j=x[0],g=x[1],E=v(Object(u.useState)(),2),S=E[0],P=E[1],_=v(Object(u.useState)(),2),k=_[0],N=_[1],T=v(Object(u.useState)(),2),J=T[0],C=T[1];Object(u.useEffect)(function(){function e(){return(e=d(a.a.mark(function e(){var t,r,u;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("entities");case 2:return t=e.sent,n(t),e.next=6,y("variables");case 6:r=e.sent,s(r),(u=["agepi","age","aide_logement"]).sort(),h(u),R(u[0]);case 12:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]);var R=(M=d(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return N(t),e.t0=C,e.next=4,y("variable/".concat(t));case 4:e.t1=e.sent,(0,e.t0)(e.t1),A();case 7:case"end":return e.stop()}},e,this)})),function(e){return M.apply(this,arguments)}),A=(H=d(a.a.mark(function e(){var n,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=f({},J,{entity:t[J.entity]}),r=Object(l.buildPayload)(t,n),w(r),e.t0=g,e.next=6,m("calculate",r);case 6:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=P,e.next=11,m("trace",r);case 11:e.t3=e.sent,(0,e.t2)(e.t3);case 13:case"end":return e.stop()}},e,this)})),function(){return H.apply(this,arguments)}),L=Object(u.useCallback)(function(e){R(e.target.value)});var H;var M;return o.a.createElement(c.a,null,o.a.createElement("section",null,o.a.createElement("div",{className:"container"},o.a.createElement("h2",{className:"section__title"},"OpenFisca Tracer"),o.a.createElement("p",{className:"section__subtitle"},"A tool to investigate OpenFisca computations"),o.a.createElement("select",{onChange:L,value:k},p&&p.map(function(e){return o.a.createElement("option",{key:e},e)})),o.a.createElement("div",null,o.a.createElement("pre",null,k),o.a.createElement("pre",null,J&&JSON.stringify(J,null,2)),o.a.createElement("pre",null,S&&JSON.stringify(S,null,2)),o.a.createElement("pre",null,j&&JSON.stringify(j,null,2)),o.a.createElement("pre",null,O&&JSON.stringify(O,null,2)),o.a.createElement("pre",null,t&&JSON.stringify(t,null,2))))))}},273:function(e,t){function n(e){var t={};return Object.keys(e).forEach(function(n){var r=e[n],a={};if(r.roles&&r.roles){var u=Object.keys(r.roles);a[r.roles[u[0]].plural||u[0]]=["_"]}t[r.plural]={_:a}}),t}e.exports={buildDefaultPayload:n,buildPayload:function(e,t){var r=n(e);return r[t.entity.plural]._[t.id]={"2020-07":null},r}}},39:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof fetch?fetch.bind():function(e,t){return t=t||{},new Promise(function(n,r){var a=new XMLHttpRequest;for(var u in a.open(t.method||"get",e),t.headers)a.setRequestHeader(u,t.headers[u]);function o(){var e,t=[],n=[],r={};return a.getAllResponseHeaders().replace(/^(.*?):\s*([\s\S]*?)$/gm,function(a,u,o){t.push(u=u.toLowerCase()),n.push([u,o]),e=r[u],r[u]=e?e+","+o:o}),{ok:1==(a.status/200|0),status:a.status,statusText:a.statusText,url:a.responseURL,clone:o,text:function(){return Promise.resolve(a.responseText)},json:function(){return Promise.resolve(a.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([a.response]))},headers:{keys:function(){return t},entries:function(){return n},get:function(e){return r[e.toLowerCase()]},has:function(e){return e.toLowerCase()in r}}}}a.withCredentials="include"==t.credentials,a.onload=function(){n(o())},a.onerror=r,a.send(t.body)})};t.default=r},75:function(e,t,n){e.exports=window.fetch||(window.fetch=n(39).default||n(39))},76:function(e,t,n){"use strict"}},[271]).default}});